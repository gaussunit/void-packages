# Template file for 'dde-qt-dbus-factory'
pkgname=dde-qt-dbus-factory
version=0.4.2
revision=1
build_style=qmake
hostmakedepends="qt5-qmake qt5 python"
makedepends="qt5-devel"
short_desc="Auto-generated Qt5 D-Bus code used by DDE"
maintainer="John <johnz@posteo.net>"
license="GPL-3"
homepage="https://github.com/linuxdeepin/dde-qt-dbus-factory"
distfiles="https://github.com/linuxdeepin/dde-qt-dbus-factory/archive/${version}.tar.gz"
checksum=4c620acca735c204456e6efe2552638e57127bf9ca28240f5c40693af591c22d

nocross=yes
if [ $CROSS_BUILD ]; then
	hostmakedepends+=" qt5-devel"
fi

dde-qt-dbus-factory-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.so"
	}
}
